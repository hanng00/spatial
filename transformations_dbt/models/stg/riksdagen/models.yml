version: 2

models:
  - name: stg_personlista
    description: "Staging model for personlista - raw passthrough from source"
    columns:
      - name: intressent_id
        description: "Primary key - unique politician identifier (VARCHAR)"
        tests:
          - not_null
      - name: tilltalsnamn
        description: "First name (VARCHAR)"
      - name: efternamn
        description: "Last name (VARCHAR)"
      - name: sorteringsnamn
        description: "Display name (VARCHAR)"
      - name: parti
        description: "Party name (VARCHAR)"
      - name: valkrets
        description: "Electoral district (VARCHAR)"
      - name: kon
        description: "Gender (VARCHAR)"
      - name: status
        description: "Member status (VARCHAR)"

  - name: stg_dokumentlista
    description: "Staging model for dokumentlista - raw passthrough from source"
    columns:
      - name: traff
        description: "Traffic/access indicator (TEXT)"
      - name: domain
        description: "Domain (TEXT)"
      - name: database
        description: "Database (TEXT)"
      - name: datum
        description: "Document date (TEXT)"
      - name: id
        description: "ID (TEXT)"
      - name: slutdatum
        description: "End date (TEXT)"
      - name: plats
        description: "Location/place (TEXT)"
      - name: klockslag
        description: "Time (TEXT)"
      - name: publicerad
        description: "Published date (TEXT)"
      - name: systemdatum
        description: "System date (TIMESTAMP)"
      - name: undertitel
        description: "Subtitle (TEXT)"
      - name: kalla
        description: "Source (TEXT)"
      - name: kall_id
        description: "Source ID (TEXT)"
      - name: dok_id
        description: "Document identifier (TEXT, nullable)"
      - name: dokumentformat
        description: "Document format (TEXT)"
      - name: dokument_url_text
        description: "Document URL text (TEXT)"
      - name: dokument_url_html
        description: "Document URL HTML (TEXT)"
      - name: dokumentstatus_url_xml
        description: "Document status URL XML (TEXT)"
      - name: inlamnad
        description: "Submitted date (TEXT)"
      - name: motionstid
        description: "Motion time (TEXT)"
      - name: tilldelat
        description: "Assigned (TEXT)"
      - name: lang
        description: "Language (TEXT)"
      - name: url
        description: "URL (TEXT)"
      - name: relurl
        description: "Relative URL (TEXT)"
      - name: titel
        description: "Document title (TEXT)"
      - name: rm
        description: "Parliamentary session (TEXT, format: YYYY/YY)"
      - name: organ
        description: "Organ/body (TEXT)"
      - name: relaterat_id
        description: "Related ID (TEXT)"
      - name: doktyp
        description: "Document type (TEXT)"
      - name: typ
        description: "Type (TEXT)"
      - name: subtyp
        description: "Subtype (TEXT)"
      - name: beteckning
        description: "Designation (TEXT)"
      - name: tempbeteckning
        description: "Temporary designation (TEXT)"
      - name: nummer
        description: "Number (TEXT)"
      - name: status
        description: "Status (TEXT)"
      - name: score
        description: "Score (TEXT)"
      - name: sokdata__titel
        description: "Search data title (TEXT)"
      - name: sokdata__undertitel
        description: "Search data subtitle (TEXT)"
      - name: sokdata__soktyp
        description: "Search data type (TEXT)"
      - name: sokdata__statusrad
        description: "Search data status row (TEXT)"
      - name: sokdata__brodsmula
        description: "Search data breadcrumb (TEXT)"
      - name: sokdata__parti_kod
        description: "Search data party code (TEXT)"
      - name: sokdata__parti_namn
        description: "Search data party name (TEXT)"
      - name: sokdata__parti_website_url
        description: "Search data party website URL (TEXT)"
      - name: sokdata__parti_website_namn
        description: "Search data party website name (TEXT)"
      - name: sokdata__parti_epost
        description: "Search data party email (TEXT)"
      - name: sokdata__parti_telefon
        description: "Search data party phone (TEXT)"
      - name: sokdata__parti_telefontider
        description: "Search data party phone hours (TEXT)"
      - name: sokdata__parti_logotyp_img_id
        description: "Search data party logo image ID (TEXT)"
      - name: sokdata__parti_logotyp_img_url
        description: "Search data party logo image URL (TEXT)"
      - name: sokdata__parti_logotyp_img_alt
        description: "Search data party logo image alt text (TEXT)"
      - name: sokdata__parti_mandat
        description: "Search data party mandates (TEXT)"
      - name: sokdata__kalenderprio
        description: "Search data calendar priority (TEXT)"
      - name: summary
        description: "Summary (TEXT)"
      - name: notisrubrik
        description: "Notice headline (TEXT)"
      - name: notis
        description: "Notice (TEXT)"
      - name: filbilaga__fil
        description: "File attachments (JSON)"
      - name: avdelning
        description: "Department (TEXT)"
      - name: avdelningar__avdelning
        description: "Departments (JSON)"
      - name: struktur
        description: "Structure (TEXT)"
      - name: audio
        description: "Audio (TEXT)"
      - name: video
        description: "Video (TEXT)"
      - name: debattgrupp
        description: "Debate group (TEXT)"
      - name: debattdag
        description: "Debate day (TEXT)"
      - name: beslutsdag
        description: "Decision day (TEXT)"
      - name: beredningsdag
        description: "Preparation day (TEXT)"
      - name: justeringsdag
        description: "Adjustment day (TEXT)"
      - name: beslutat
        description: "Decided (TEXT)"
      - name: debattsekunder
        description: "Debate seconds (TEXT)"
      - name: ardometyp
        description: "Ardome type (TEXT)"
      - name: reservationer
        description: "Reservations (TEXT)"
      - name: debattnamn
        description: "Debate name (TEXT)"
      - name: dokumentnamn
        description: "Document name (TEXT)"
      - name: _dlt_load_id
        description: "DLT load ID (TEXT, non-nullable)"
        tests:
          - not_null
      - name: _dlt_id
        description: "DLT ID (TEXT, non-nullable, unique)"
        tests:
          - not_null
          - unique
      - name: row_key
        description: "Row key (TEXT)"
      - name: dokintressent__intressent
        description: "Nested JSON with politician involvement (JSON)"
      - name: cmstyp
        description: "CMS type (TEXT)"
      - name: img_url
        description: "Image URL (TEXT)"
      - name: img_text
        description: "Image text (TEXT)"
      - name: img_title
        description: "Image title (TEXT)"
      - name: img_large
        description: "Large image (TEXT)"
      - name: img_id
        description: "Image ID (TEXT)"
      - name: cms_rubrikniva
        description: "CMS heading level (TEXT)"
      - name: img_fotograf
        description: "Image photographer (TEXT)"
      - name: img_tumnagel_url
        description: "Thumbnail image URL (TEXT)"
      - name: notisslutdatum
        description: "Notice end date (TIMESTAMP)"
      - name: debatt__anforande
        description: "Debate speeches (JSON)"
      - name: cmskategorier__cmskategori
        description: "CMS categories (JSON)"
      - name: egenskaper__egenskap
        description: "Properties (JSON)"
      - name: linklista__link
        description: "Link list (JSON)"
      - name: cmsetiketter__cmsetikett
        description: "CMS tags (JSON)"
      - name: dokreferens__referens
        description: "Document references (JSON)"
      - name: dokintressent_len
        description: "Count of entries in dokintressent__intressent (BIGINT)"
      - name: dokreferens_len
        description: "Count of entries in dokreferens__referens (BIGINT)"
      - name: dok_id_normalized
        description: "Trimmed dok_id with empty strings set to null"

  - name: stg_voteringlista
    description: "Staging model for voteringlista - raw passthrough from source"
    columns:
      - name: votering_id
        description: "Voting identifier (VARCHAR)"
      - name: intressent_id
        description: "Politician identifier (VARCHAR)"
        tests:
          - not_null
      - name: rost
        description: "Vote choice (VARCHAR, values: 'Ja', 'Nej', 'Avst√•r')"
      - name: rm
        description: "Parliamentary session (VARCHAR, format: YYYY/YY)"

  - name: stg_anforandelista
    description: "Staging model for anforandelista - raw passthrough from source"
    columns:
      - name: systemnyckel
        description: "Unique speech identifier (VARCHAR)"
      - name: dok_datum
        description: "Speech date (VARCHAR)"
      - name: dok_id
        description: "Document identifier (VARCHAR)"
      - name: dok_id_normalized
        description: "Trimmed dok_id with empty strings set to null"
      - name: talare
        description: "Speaker name (VARCHAR)"
      - name: parti
        description: "Party name (VARCHAR)"
      - name: intressent_id
        description: "Politician identifier (VARCHAR)"
      - name: rel_dok_id
        description: "Related document id (VARCHAR, trimmed/nullified)"
      - name: anforandetext
        description: "Speech text (VARCHAR)"
